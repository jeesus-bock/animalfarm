import { generate as genId } from 'short-uuid';

// Datatypes, constants and other code that can be shared between the front and the backend.

// Microservice ports, host is always localhost at the moment
export const DATA_SERVER_PORT = 8082;
export const SOCKET_SERVER_PORT = 8081;

export const FRONT_END_PORT = 5173;

export enum EventTypes {
  // The simpilistic ticker that lets backend schedule the frontend ECS updates.
  Tick = 'TICK',

  // User enters the server
  Enter = 'ENTER',
  // User exits the server
  Exit = 'EXIT',

  MapUpdated = 'MAP_UPDATED',
  // Request event that server responds to with a list of all the users currently on the server.
  RequestUsers = 'REQUEST_USERS',
  RequestMaps = 'REQUEST_MAPS',
  GenerateMap = 'GENERATE_MAP',
  RequestAnimal = 'REQUEST_ANIMAL',

  // dispatched after a map has been added to ECS
  MapAdded = 'MAP_ADDED',

  // Send map to server to be saved
  CreateMap = 'CREATE_MAP',

  // Send updated map to server
  UpdateMap = 'UPDATE_MAP',

  // Reply message when user tries to connect with an existing username
  NameInUse = 'NAME_IN_USE',

  // bound to document.body.onkeydown
  KeyDown = 'KEY_DOWN',
}

export interface User {
  id: string;
  name: string;
  connected: number;
}
export interface LogItem {
  // Might aswell use unix timestamps :)
  time: number;
  msg: string;
  payload?: object;
  // Only the server-side logs need to be separated by user, so make it optional.
  user?: User;
}

export interface Map {
  id: string;
  name: string;
  dimensions: { x: number; y: number };
  matrix: number[][];
}

// Different AIs. Put it here in commons.ts because Animal interface needs it
// and importing from sub-dirs doesn't sound good.
// At the moment it's only relevant in the ECS, but it's possible the
// Server will do something with it eventually.
export enum AI {
  // Moves the animal in random directions.
  RndDir = 'RANDOM_DIRECTION',
  Still = 'STILL',
}

export enum Species {
  penguin = 'PENGUIN',
  rider = 'RIDER',
}
// These data models go on top of entities in the ECS.
// If typeorm is added it's entity modeling will spice things up further.

export interface UiObj {
  id: string;
  position: { x: number; y: number };
  map: string;
  ui: { char: string; color: string };
  selected?: boolean;
  velocity?: { x: number; y: number };
  ai?: AI;
  isPlayer?: boolean;
}
export interface Animal {
  id: string;
  name: string;
  stats: { att: number; def: number };
  health: { hp: number; maxHp: number };
  species: Species;
  ui: { char: string; color: string };
  ai?: AI;
}
export interface UiAnimal extends Animal, UiObj {}
export interface Map {
  id: string;
  name: string;
  selected?: boolean;
  dimensions: { x: number; y: number };
  isMap?: boolean;
  matrix: Array<Array<number>>;
}

export interface player extends UiObj {
  isPlayer: boolean;
}

export const genMatrix = (width: number, height: number) => {
  const ret: Array<Array<number>> = [];

  // Generate the matrix with oldskool loops.
  for (let y = 0; y < height; y++) {
    ret[y] = [];
    for (let x = 0; x < width; x++) {
      // 0 and 1 are impassable
      if (x == 0 || x == width - 1 || y == 0 || y == height - 1) {
        ret[y][x] = 0;
      } else if (Math.round(Math.random() * 10) == 0) {
        ret[y][x] = Math.round(Math.random() * 2);
      } else {
        ret[y][x] = Math.round(Math.random() * 3) + 2;
      }
    }
  }
  return ret;
};
export const genMap = (): Map => {
  const width = Math.round(Math.random() * 10 + 20);
  const height = Math.round(Math.random() * 10 + 20);
  return {
    id: '',
    isMap: true,
    name: genId(),
    dimensions: { x: width, y: height },
    matrix: genMatrix(width, height),
  };
};

const randomGlyph = () => {
  var emojis = [
    'ðŸ˜„',
    'ðŸ˜ƒ',
    'ðŸ˜€',
    'ðŸ˜Š',
    'â˜º',
    'ðŸ˜‰',
    'ðŸ˜',
    'ðŸ˜˜',
    'ðŸ˜š',
    'ðŸ˜—',
    'ðŸ˜™',
    'ðŸ˜œ',
    'ðŸ˜',
    'ðŸ˜›',
    'ðŸ˜³',
    'ðŸ˜',
    'ðŸ˜”',
    'ðŸ˜Œ',
    'ðŸ˜’',
    'ðŸ˜ž',
    'ðŸ˜£',
    'ðŸ˜¢',
    'ðŸ˜‚',
    'ðŸ˜­',
    'ðŸ˜ª',
    'ðŸ˜¥',
    'ðŸ˜°',
    'ðŸ˜…',
    'ðŸ˜“',
    'ðŸ˜©',
    'ðŸ˜«',
    'ðŸ˜¨',
    'ðŸ˜±',
    'ðŸ˜ ',
    'ðŸ˜¡',
    'ðŸ˜¤',
    'ðŸ˜–',
    'ðŸ˜†',
    'ðŸ˜‹',
    'ðŸ˜·',
    'ðŸ˜Ž',
    'ðŸ˜´',
    'ðŸ˜µ',
    'ðŸ˜²',
    'ðŸ˜Ÿ',
    'ðŸ˜¦',
    'ðŸ˜§',
    'ðŸ˜ˆ',
    'ðŸ‘¿',
    'ðŸ˜®',
    'ðŸ˜¬',
    'ðŸ˜',
    'ðŸ˜•',
    'ðŸ˜¯',
    'ðŸ˜¶',
    'ðŸ˜‡',
    'ðŸ˜',
    'ðŸ˜‘',
    'ðŸ‘²',
    'ðŸ‘³',
    'ðŸ‘®',
    'ðŸ‘·',
    'ðŸ’‚',
    'ðŸ‘¶',
    'ðŸ‘¦',
    'ðŸ‘§',
    'ðŸ‘¨',
    'ðŸ‘©',
    'ðŸ‘´',
    'ðŸ‘µ',
    'ðŸ‘±',
    'ðŸ‘¼',
    'ðŸ‘¸',
    'ðŸ˜º',
    'ðŸ˜¸',
    'ðŸ˜»',
    'ðŸ˜½',
    'ðŸ˜¼',
    'ðŸ™€',
    'ðŸ˜¿',
    'ðŸ˜¹',
    'ðŸ˜¾',
    'ðŸ‘¹',
    'ðŸ‘º',
    'ðŸ™ˆ',
    'ðŸ™‰',
    'ðŸ™Š',
    'ðŸ’€',
    'ðŸ‘½',
    'ðŸ’©',
    'ðŸ”¥',
    'âœ¨',
    'ðŸŒŸ',
    'ðŸ’«',
    'ðŸ’¥',
    'ðŸ’¢',
    'ðŸ’¦',
    'ðŸ’§',
    'ðŸ’¤',
    'ðŸ’¨',
    'ðŸ‘‚',
    'ðŸ‘€',
    'ðŸ‘ƒ',
    'ðŸ‘…',
    'ðŸ‘„',
    'ðŸ‘',
    'ðŸ‘Ž',
    'ðŸ‘Œ',
    'ðŸ‘Š',
    'âœŠ',
    'âœŒ',
    'ðŸ‘‹',
    'âœ‹',
    'ðŸ‘',
    'ðŸ‘†',
    'ðŸ‘‡',
    'ðŸ‘‰',
    'ðŸ‘ˆ',
    'ðŸ™Œ',
    'ðŸ™',
    'â˜',
    'ðŸ‘',
    'ðŸ’ª',
    'ðŸš¶',
    'ðŸƒ',
    'ðŸ’ƒ',
    'ðŸ‘«',
    'ðŸ‘ª',
    'ðŸ‘¬',
    'ðŸ‘­',
    'ðŸ’',
    'ðŸ’‘',
    'ðŸ‘¯',
    'ðŸ™†',
    'ðŸ™…',
    'ðŸ’',
    'ðŸ™‹',
    'ðŸ’†',
    'ðŸ’‡',
    'ðŸ’…',
    'ðŸ‘°',
    'ðŸ™Ž',
    'ðŸ™',
    'ðŸ™‡',
    'ðŸŽ©',
    'ðŸ‘‘',
    'ðŸ‘’',
    'ðŸ‘Ÿ',
    'ðŸ‘ž',
    'ðŸ‘¡',
    'ðŸ‘ ',
    'ðŸ‘¢',
    'ðŸ‘•',
    'ðŸ‘”',
    'ðŸ‘š',
    'ðŸ‘—',
    'ðŸŽ½',
    'ðŸ‘–',
    'ðŸ‘˜',
    'ðŸ‘™',
    'ðŸ’¼',
    'ðŸ‘œ',
    'ðŸ‘',
    'ðŸ‘›',
    'ðŸ‘“',
    'ðŸŽ€',
    'ðŸŒ‚',
    'ðŸ’„',
    'ðŸ’›',
    'ðŸ’™',
    'ðŸ’œ',
    'ðŸ’š',
    'â¤',
    'ðŸ’”',
    'ðŸ’—',
    'ðŸ’“',
    'ðŸ’•',
    'ðŸ’–',
    'ðŸ’ž',
    'ðŸ’˜',
    'ðŸ’Œ',
    'ðŸ’‹',
    'ðŸ’',
    'ðŸ’Ž',
    'ðŸ‘¤',
    'ðŸ‘¥',
    'ðŸ’¬',
    'ðŸ‘£',
    'ðŸ’­',
    'ðŸ¶',
    'ðŸº',
    'ðŸ±',
    'ðŸ­',
    'ðŸ¹',
    'ðŸ°',
    'ðŸ¸',
    'ðŸ¯',
    'ðŸ¨',
    'ðŸ»',
    'ðŸ·',
    'ðŸ½',
    'ðŸ®',
    'ðŸ—',
    'ðŸµ',
    'ðŸ’',
    'ðŸ´',
    'ðŸ‘',
    'ðŸ˜',
    'ðŸ¼',
    'ðŸ§',
    'ðŸ¦',
    'ðŸ¤',
    'ðŸ¥',
    'ðŸ£',
    'ðŸ”',
    'ðŸ',
    'ðŸ¢',
    'ðŸ›',
    'ðŸ',
    'ðŸœ',
    'ðŸž',
    'ðŸŒ',
    'ðŸ™',
    'ðŸš',
    'ðŸ ',
    'ðŸŸ',
    'ðŸ¬',
    'ðŸ³',
    'ðŸ‹',
    'ðŸ„',
    'ðŸ',
    'ðŸ€',
    'ðŸƒ',
    'ðŸ…',
    'ðŸ‡',
    'ðŸ‰',
    'ðŸŽ',
    'ðŸ',
    'ðŸ“',
    'ðŸ•',
    'ðŸ–',
    'ðŸ',
    'ðŸ‚',
    'ðŸ²',
    'ðŸ¡',
    'ðŸŠ',
    'ðŸ«',
    'ðŸª',
    'ðŸ†',
    'ðŸˆ',
    'ðŸ©',
    'ðŸ¾',
    'ðŸ’',
    'ðŸŒ¸',
    'ðŸŒ·',
    'ðŸ€',
    'ðŸŒ¹',
    'ðŸŒ»',
    'ðŸŒº',
    'ðŸ',
    'ðŸƒ',
    'ðŸ‚',
    'ðŸŒ¿',
    'ðŸŒ¾',
    'ðŸ„',
    'ðŸŒµ',
    'ðŸŒ´',
    'ðŸŒ²',
    'ðŸŒ³',
    'ðŸŒ°',
    'ðŸŒ±',
    'ðŸŒ¼',
    'ðŸŒ',
    'ðŸŒž',
    'ðŸŒ',
    'ðŸŒš',
    'ðŸŒ‘',
    'ðŸŒ’',
    'ðŸŒ“',
    'ðŸŒ”',
    'ðŸŒ•',
    'ðŸŒ–',
    'ðŸŒ—',
    'ðŸŒ˜',
    'ðŸŒœ',
    'ðŸŒ›',
    'ðŸŒ™',
    'ðŸŒ',
    'ðŸŒŽ',
    'ðŸŒ',
    'ðŸŒ‹',
    'ðŸŒŒ',
    'ðŸŒ ',
    'â­',
    'â˜€',
    'â›…',
    'â˜',
    'âš¡',
    'â˜”',
    'â„',
    'â›„',
    'ðŸŒ€',
    'ðŸŒ',
    'ðŸŒˆ',
    'ðŸŒŠ',
    'ðŸŽ',
    'ðŸ’',
    'ðŸŽŽ',
    'ðŸŽ’',
    'ðŸŽ“',
    'ðŸŽ',
    'ðŸŽ†',
    'ðŸŽ‡',
    'ðŸŽ',
    'ðŸŽ‘',
    'ðŸŽƒ',
    'ðŸ‘»',
    'ðŸŽ…',
    'ðŸŽ„',
    'ðŸŽ',
    'ðŸŽ‹',
    'ðŸŽ‰',
    'ðŸŽŠ',
    'ðŸŽˆ',
    'ðŸŽŒ',
    'ðŸ”®',
    'ðŸŽ¥',
    'ðŸ“·',
    'ðŸ“¹',
    'ðŸ“¼',
    'ðŸ’¿',
    'ðŸ“€',
    'ðŸ’½',
    'ðŸ’¾',
    'ðŸ’»',
    'ðŸ“±',
    'â˜Ž',
    'ðŸ“ž',
    'ðŸ“Ÿ',
    'ðŸ“ ',
    'ðŸ“¡',
    'ðŸ“º',
    'ðŸ“»',
    'ðŸ”Š',
    'ðŸ”‰',
    'ðŸ”ˆ',
    'ðŸ”‡',
    'ðŸ””',
    'ðŸ”•',
    'ðŸ“¢',
    'ðŸ“£',
    'â³',
    'âŒ›',
    'â°',
    'âŒš',
    'ðŸ”“',
    'ðŸ”’',
    'ðŸ”',
    'ðŸ”',
    'ðŸ”‘',
    'ðŸ”Ž',
    'ðŸ’¡',
    'ðŸ”¦',
    'ðŸ”†',
    'ðŸ”…',
    'ðŸ”Œ',
    'ðŸ”‹',
    'ðŸ”',
    'ðŸ›',
    'ðŸ›€',
    'ðŸš¿',
    'ðŸš½',
    'ðŸ”§',
    'ðŸ”©',
    'ðŸ”¨',
    'ðŸšª',
    'ðŸš¬',
    'ðŸ’£',
    'ðŸ”«',
    'ðŸ”ª',
    'ðŸ’Š',
    'ðŸ’‰',
    'ðŸ’°',
    'ðŸ’´',
    'ðŸ’µ',
    'ðŸ’·',
    'ðŸ’¶',
    'ðŸ’³',
    'ðŸ’¸',
    'ðŸ“²',
    'ðŸ“§',
    'ðŸ“¥',
    'ðŸ“¤',
    'âœ‰',
    'ðŸ“©',
    'ðŸ“¨',
    'ðŸ“¯',
    'ðŸ“«',
    'ðŸ“ª',
    'ðŸ“¬',
    'ðŸ“­',
    'ðŸ“®',
    'ðŸ“¦',
    'ðŸ“',
    'ðŸ“„',
    'ðŸ“ƒ',
    'ðŸ“‘',
    'ðŸ“Š',
    'ðŸ“ˆ',
    'ðŸ“‰',
    'ðŸ“œ',
    'ðŸ“‹',
    'ðŸ“…',
    'ðŸ“†',
    'ðŸ“‡',
    'ðŸ“',
    'ðŸ“‚',
    'âœ‚',
    'ðŸ“Œ',
    'ðŸ“Ž',
    'âœ’',
    'âœ',
    'ðŸ“',
    'ðŸ“',
    'ðŸ“•',
    'ðŸ“—',
    'ðŸ“˜',
    'ðŸ“™',
    'ðŸ““',
    'ðŸ“”',
    'ðŸ“’',
    'ðŸ“š',
    'ðŸ“–',
    'ðŸ”–',
    'ðŸ“›',
    'ðŸ”¬',
    'ðŸ”­',
    'ðŸ“°',
    'ðŸŽ¨',
    'ðŸŽ¬',
    'ðŸŽ¤',
    'ðŸŽ§',
    'ðŸŽ¼',
    'ðŸŽµ',
    'ðŸŽ¶',
    'ðŸŽ¹',
    'ðŸŽ»',
    'ðŸŽº',
    'ðŸŽ·',
    'ðŸŽ¸',
    'ðŸ‘¾',
    'ðŸŽ®',
    'ðŸƒ',
    'ðŸŽ´',
    'ðŸ€„',
    'ðŸŽ²',
    'ðŸŽ¯',
    'ðŸˆ',
    'ðŸ€',
    'âš½',
    'âš¾',
    'ðŸŽ¾',
    'ðŸŽ±',
    'ðŸ‰',
    'ðŸŽ³',
    'â›³',
    'ðŸšµ',
    'ðŸš´',
    'ðŸ',
    'ðŸ‡',
    'ðŸ†',
    'ðŸŽ¿',
    'ðŸ‚',
    'ðŸŠ',
    'ðŸ„',
    'ðŸŽ£',
    'â˜•',
    'ðŸµ',
    'ðŸ¶',
    'ðŸ¼',
    'ðŸº',
    'ðŸ»',
    'ðŸ¸',
    'ðŸ¹',
    'ðŸ·',
    'ðŸ´',
    'ðŸ•',
    'ðŸ”',
    'ðŸŸ',
    'ðŸ—',
    'ðŸ–',
    'ðŸ',
    'ðŸ›',
    'ðŸ¤',
    'ðŸ±',
    'ðŸ£',
    'ðŸ¥',
    'ðŸ™',
    'ðŸ˜',
    'ðŸš',
    'ðŸœ',
    'ðŸ²',
    'ðŸ¢',
    'ðŸ¡',
    'ðŸ³',
    'ðŸž',
    'ðŸ©',
    'ðŸ®',
    'ðŸ¦',
    'ðŸ¨',
    'ðŸ§',
    'ðŸŽ‚',
    'ðŸ°',
    'ðŸª',
    'ðŸ«',
    'ðŸ¬',
    'ðŸ­',
    'ðŸ¯',
    'ðŸŽ',
    'ðŸ',
    'ðŸŠ',
    'ðŸ‹',
    'ðŸ’',
    'ðŸ‡',
    'ðŸ‰',
    'ðŸ“',
    'ðŸ‘',
    'ðŸˆ',
    'ðŸŒ',
    'ðŸ',
    'ðŸ',
    'ðŸ ',
    'ðŸ†',
    'ðŸ…',
    'ðŸŒ½',
    'ðŸ ',
    'ðŸ¡',
    'ðŸ«',
    'ðŸ¢',
    'ðŸ£',
    'ðŸ¥',
    'ðŸ¦',
    'ðŸª',
    'ðŸ©',
    'ðŸ¨',
    'ðŸ’’',
    'â›ª',
    'ðŸ¬',
    'ðŸ¤',
    'ðŸŒ‡',
    'ðŸŒ†',
    'ðŸ¯',
    'ðŸ°',
    'â›º',
    'ðŸ­',
    'ðŸ—¼',
    'ðŸ—¾',
    'ðŸ—»',
    'ðŸŒ„',
    'ðŸŒ…',
    'ðŸŒƒ',
    'ðŸ—½',
    'ðŸŒ‰',
    'ðŸŽ ',
    'ðŸŽ¡',
    'â›²',
    'ðŸŽ¢',
    'ðŸš¢',
    'â›µ',
    'ðŸš¤',
    'ðŸš£',
    'âš“',
    'ðŸš€',
    'âœˆ',
    'ðŸ’º',
    'ðŸš',
    'ðŸš‚',
    'ðŸšŠ',
    'ðŸš‰',
    'ðŸšž',
    'ðŸš†',
    'ðŸš„',
    'ðŸš…',
    'ðŸšˆ',
    'ðŸš‡',
    'ðŸš',
    'ðŸš‹',
    'ðŸšƒ',
    'ðŸšŽ',
    'ðŸšŒ',
    'ðŸš',
    'ðŸš™',
    'ðŸš˜',
    'ðŸš—',
    'ðŸš•',
    'ðŸš–',
    'ðŸš›',
    'ðŸšš',
    'ðŸš¨',
    'ðŸš“',
    'ðŸš”',
    'ðŸš’',
    'ðŸš‘',
    'ðŸš',
    'ðŸš²',
    'ðŸš¡',
    'ðŸšŸ',
    'ðŸš ',
    'ðŸšœ',
    'ðŸ’ˆ',
    'ðŸš',
    'ðŸŽ«',
    'ðŸš¦',
    'ðŸš¥',
    'âš ',
    'ðŸš§',
    'ðŸ”°',
    'â›½',
    'ðŸ®',
    'ðŸŽ°',
    'â™¨',
    'ðŸ—¿',
    'ðŸŽª',
    'ðŸŽ­',
    'ðŸ“',
    'ðŸš©',
    'â¬†',
    'â¬‡',
    'â¬…',
    'âž¡',
    'ðŸ” ',
    'ðŸ”¡',
    'ðŸ”¤',
    'â†—',
    'â†–',
    'â†˜',
    'â†™',
    'â†”',
    'â†•',
    'ðŸ”„',
    'â—€',
    'â–¶',
    'ðŸ”¼',
    'ðŸ”½',
    'â†©',
    'â†ª',
    'â„¹',
    'âª',
    'â©',
    'â«',
    'â¬',
    'â¤µ',
    'â¤´',
    'ðŸ†—',
    'ðŸ”€',
    'ðŸ”',
    'ðŸ”‚',
    'ðŸ†•',
    'ðŸ†™',
    'ðŸ†’',
    'ðŸ†“',
    'ðŸ†–',
    'ðŸ“¶',
    'ðŸŽ¦',
    'ðŸˆ',
    'ðŸˆ¯',
    'ðŸˆ³',
    'ðŸˆµ',
    'ðŸˆ´',
    'ðŸˆ²',
    'ðŸ‰',
    'ðŸˆ¹',
    'ðŸˆº',
    'ðŸˆ¶',
    'ðŸˆš',
    'ðŸš»',
    'ðŸš¹',
    'ðŸšº',
    'ðŸš¼',
    'ðŸš¾',
    'ðŸš°',
    'ðŸš®',
    'ðŸ…¿',
    'â™¿',
    'ðŸš­',
    'ðŸˆ·',
    'ðŸˆ¸',
    'ðŸˆ‚',
    'â“‚',
    'ðŸ›‚',
    'ðŸ›„',
    'ðŸ›…',
    'ðŸ›ƒ',
    'ðŸ‰‘',
    'ãŠ™',
    'ãŠ—',
    'ðŸ†‘',
    'ðŸ†˜',
    'ðŸ†”',
    'ðŸš«',
    'ðŸ”ž',
    'ðŸ“µ',
    'ðŸš¯',
    'ðŸš±',
    'ðŸš³',
    'ðŸš·',
    'ðŸš¸',
    'â›”',
    'âœ³',
    'â‡',
    'âŽ',
    'âœ…',
    'âœ´',
    'ðŸ’Ÿ',
    'ðŸ†š',
    'ðŸ“³',
    'ðŸ“´',
    'ðŸ…°',
    'ðŸ…±',
    'ðŸ†Ž',
    'ðŸ…¾',
    'ðŸ’ ',
    'âž¿',
    'â™»',
    'â™ˆ',
    'â™‰',
    'â™Š',
    'â™‹',
    'â™Œ',
    'â™',
    'â™Ž',
    'â™',
    'â™',
    'â™‘',
    'â™’',
    'â™“',
    'â›Ž',
    'ðŸ”¯',
    'ðŸ§',
    'ðŸ’¹',
    'ðŸ’²',
    'ðŸ’±',
    'Â©',
    'Â®',
    'â„¢',
    'ã€½',
    'ã€°',
    'ðŸ”',
    'ðŸ”š',
    'ðŸ”™',
    'ðŸ”›',
    'ðŸ”œ',
    'âŒ',
    'â­•',
    'â—',
    'â“',
    'â•',
    'â”',
    'ðŸ”ƒ',
    'ðŸ•›',
    'ðŸ•§',
    'ðŸ•',
    'ðŸ•œ',
    'ðŸ•‘',
    'ðŸ•',
    'ðŸ•’',
    'ðŸ•ž',
    'ðŸ•“',
    'ðŸ•Ÿ',
    'ðŸ•”',
    'ðŸ• ',
    'ðŸ••',
    'ðŸ•–',
    'ðŸ•—',
    'ðŸ•˜',
    'ðŸ•™',
    'ðŸ•š',
    'ðŸ•¡',
    'ðŸ•¢',
    'ðŸ•£',
    'ðŸ•¤',
    'ðŸ•¥',
    'ðŸ•¦',
    'âœ–',
    'âž•',
    'âž–',
    'âž—',
    'â™ ',
    'â™¥',
    'â™£',
    'â™¦',
    'ðŸ’®',
    'ðŸ’¯',
    'âœ”',
    'â˜‘',
    'ðŸ”˜',
    'ðŸ”—',
    'âž°',
    'ðŸ”±',
    'ðŸ”²',
    'ðŸ”³',
    'â—¼',
    'â—»',
    'â—¾',
    'â—½',
    'â–ª',
    'â–«',
    'ðŸ”º',
    'â¬œ',
    'â¬›',
    'âš«',
    'âšª',
    'ðŸ”´',
    'ðŸ”µ',
    'ðŸ”»',
    'ðŸ”¶',
    'ðŸ”·',
    'ðŸ”¸',
    'ðŸ”¹',
  ];

  return emojis[Math.floor(Math.random() * emojis.length)];
};

const genLightRGB = (): string => {
  const r = Math.round(Math.random() * 155 + 100);
  const g = Math.round(Math.random() * 155 + 100);
  const b = Math.round(Math.random() * 155 + 100);
  return 'rgb(' + r + ',' + g + ',' + b + ')';
};

export const GenUiObj = (mapWidth: number, mapHeight: number, mapName: string): UiObj => {
  const ret: UiObj = {
    id: genId(),
    position: { x: Math.round(Math.random() * (mapWidth - 1)) + 1, y: Math.round(Math.random() * (mapHeight - 1)) + 1 },
    map: mapName,
    velocity: { x: 0, y: 0 },
    ui: { char: randomGlyph(), color: genLightRGB() },
    ai: AI.RndDir,
  };
  return ret;
};
